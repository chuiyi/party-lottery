{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap ef69a54c7d3c047190d2","webpack:///./src/main.js","webpack:///./src/names-panel.js","webpack:///./src/config.js","webpack:///./src/nodes.js","webpack:///./src/options-panel.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_namesPanel","_namesPanel2","_optionsPanel","_optionsPanel2","init","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_config","_config2","_nodes","_nodes2","NamesPanel","_this","this","config","nameCount","running","stopSignal","runner","resetBtn","addEventListener","e","confirm","dataset","window","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","nameNodes","Symbol","iterator","next","done","aName","setNameSize","err","return","clickArea","clickHandler","bind","document","body","_this2","clearState","arguments","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","parentNode","removeChild","lightTheme","wrapper","classList","add","remove","nameList","names","replace","split","filter","nameRemovedIndexes","save","forEach","index","nameDiv","createElement","className","textContent","indexOf","namesPanel","appendChild","optionsBtn","nameLength","Math","max","magicDivide","ceil","sqrt","nameWidth","documentElement","clientWidth","nameHeight","clientHeight","nameFontSize","min","style","width","height","lineHeight","fontSize","on","onName","nameOnNode","Node","center","transform","_aName$getBoundingCli","getBoundingClientRect","left","top","_document$documentEle","scale","moveX","moveY","prop","lang","navigator","language","readOutNames","speechSynthesis","utterance","SpeechSynthesisUtterance","speak","removeAfterHit","push","stopOnDemand","clearInterval","winner","transformName","speakName","candidates","nameNodesLeft","idx","floor","random","highlightName","speed","duration","_this3","setInterval","gotoName","setTimeout","run","contains","type","keyCode","disableName","_typeof","constructor","defaults","Config","hasOwnProperty","localStorage","join","$","selector","querySelector","$$","Array","from","querySelectorAll","Nodes","optionsPanel","optionsForm","options_names","options_removeAfterHit","options_stopOnDemand","options_lightTheme","options_readOutNames","options_optionCancel","OptionsPanel","open","preventDefault","close","checked"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(2);\n\t\n\tvar _namesPanel = __webpack_require__(3);\n\t\n\tvar _namesPanel2 = _interopRequireDefault(_namesPanel);\n\t\n\tvar _optionsPanel = __webpack_require__(6);\n\t\n\tvar _optionsPanel2 = _interopRequireDefault(_optionsPanel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _namesPanel2.default().init();\n\tnew _optionsPanel2.default().init();\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _nodes = __webpack_require__(5);\n\t\n\tvar _nodes2 = _interopRequireDefault(_nodes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar instance = null;\n\t\n\tvar NamesPanel = function () {\n\t  function NamesPanel() {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, NamesPanel);\n\t\n\t    if (instance) return instance;\n\t    instance = this;\n\t\n\t    this.config = new _config2.default();\n\t    this.nameCount = 0;\n\t    this.running = false;\n\t    this.stopSignal = false;\n\t    this.runner = null;\n\t\n\t    _nodes2.default.resetBtn.addEventListener('click', function (e) {\n\t      if (_this.running || !confirm(_nodes2.default.resetBtn.dataset.confirm)) return;\n\t      _this.init(true);\n\t    });\n\t\n\t    window.addEventListener('resize', function (e) {\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = _nodes2.default.nameNodes()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var aName = _step.value;\n\t          _this.setNameSize(aName);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t    });\n\t\n\t    _nodes2.default.clickArea.addEventListener('click', this.clickHandler.bind(this));\n\t\n\t    document.body.addEventListener('keyup', this.clickHandler.bind(this));\n\t  }\n\t\n\t  _createClass(NamesPanel, [{\n\t    key: 'init',\n\t    value: function init() {\n\t      var _this2 = this;\n\t\n\t      var clearState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\t\n\t      this.running = false;\n\t      this.stopSignal = true;\n\t\n\t      var _iteratorNormalCompletion2 = true;\n\t      var _didIteratorError2 = false;\n\t      var _iteratorError2 = undefined;\n\t\n\t      try {\n\t        for (var _iterator2 = _nodes2.default.nameNodes()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t          var aName = _step2.value;\n\t          aName.parentNode.removeChild(aName);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t            _iterator2.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError2) {\n\t            throw _iteratorError2;\n\t          }\n\t        }\n\t      }\n\t\n\t      this.config.lightTheme ? _nodes2.default.wrapper.classList.add('light-theme') : _nodes2.default.wrapper.classList.remove('light-theme');\n\t\n\t      var nameList = this.config.names.replace(/[\\s\\,、，]+/g, ',').split(',');\n\t      nameList = nameList.filter(function (aName) {\n\t        return aName != '';\n\t      });\n\t      this.nameCount = nameList.length;\n\t\n\t      if (clearState) {\n\t        this.config.nameRemovedIndexes = [];\n\t        this.config.save();\n\t      }\n\t\n\t      nameList.forEach(function (aName, index) {\n\t        var nameDiv = document.createElement('div');\n\t        nameDiv.className = 'name';\n\t        nameDiv.textContent = aName;\n\t        _this2.setNameSize(nameDiv);\n\t        if (_this2.config.nameRemovedIndexes.indexOf('' + index) != -1) {\n\t          nameDiv.classList.add('disabled');\n\t        }\n\t        _nodes2.default.namesPanel.appendChild(nameDiv);\n\t      });\n\t\n\t      if (this.nameCount < 2) {\n\t        _nodes2.default.optionsBtn.classList.add('bouncing');\n\t      } else {\n\t        _nodes2.default.optionsBtn.classList.remove('bouncing');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setNameSize',\n\t    value: function setNameSize(aName) {\n\t      var nameLength = Math.max(3, aName.textContent.length);\n\t      var magicDivide = Math.ceil(Math.sqrt(this.nameCount));\n\t      var nameWidth = document.documentElement.clientWidth / magicDivide;\n\t      var nameHeight = document.documentElement.clientHeight / magicDivide;\n\t      var nameFontSize = Math.min(nameWidth * 0.8 / nameLength, nameHeight * 0.8);\n\t      aName.style.width = nameWidth + 'px';\n\t      aName.style.height = nameHeight + 'px';\n\t      aName.style.lineHeight = nameHeight + 'px';\n\t      aName.style.fontSize = nameFontSize + 'px';\n\t    }\n\t  }, {\n\t    key: 'highlightName',\n\t    value: function highlightName(aName) {\n\t      var on = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t      if (!aName) return false;\n\t      var onName = _nodes2.default.nameOnNode();\n\t      if (onName instanceof Node) onName.classList.remove('on');\n\t      on ? aName.classList.add('on') : aName.classList.remove('on');\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'transformName',\n\t    value: function transformName(aName) {\n\t      var center = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t      if (!aName) return false;\n\t      var transform = 'none';\n\t      if (center) {\n\t        var _aName$getBoundingCli = aName.getBoundingClientRect(),\n\t            width = _aName$getBoundingCli.width,\n\t            height = _aName$getBoundingCli.height,\n\t            left = _aName$getBoundingCli.left,\n\t            top = _aName$getBoundingCli.top;\n\t\n\t        var _document$documentEle = document.documentElement,\n\t            clientWidth = _document$documentEle.clientWidth,\n\t            clientHeight = _document$documentEle.clientHeight;\n\t\n\t        var scale = Math.min(clientWidth / width, clientHeight / height) * 0.6;\n\t        var moveX = ((clientWidth - width) / 2 - left) / scale;\n\t        var moveY = ((clientHeight - height) / 2 - top) / scale;\n\t        transform = 'scale(' + scale + ') translate(' + moveX + 'px, ' + moveY + 'px)';\n\t      }\n\t      ['webkitTransform', 'transform'].forEach(function (prop) {\n\t        if (prop in aName.style) {\n\t          aName.style[prop] = transform;\n\t        }\n\t      });\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'speakName',\n\t    value: function speakName(aName) {\n\t      var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : navigator.language;\n\t\n\t      if (!(this.config.readOutNames && window.speechSynthesis)) return false;\n\t      var utterance = new SpeechSynthesisUtterance(aName.textContent);\n\t      utterance.lang = lang;\n\t      window.speechSynthesis.speak(utterance);\n\t    }\n\t  }, {\n\t    key: 'disableName',\n\t    value: function disableName(aName) {\n\t      if (!this.config.removeAfterHit) return false;\n\t      this.config.nameRemovedIndexes.push(_nodes2.default.nameNodes().indexOf(aName));\n\t      this.config.save();\n\t      aName.classList.add('disabled');\n\t    }\n\t  }, {\n\t    key: 'gotoName',\n\t    value: function gotoName() {\n\t      if (this.config.stopOnDemand && this.stopSignal) {\n\t        clearInterval(this.runner);\n\t        var winner = _nodes2.default.nameOnNode();\n\t        this.transformName(winner);\n\t        this.speakName(winner);\n\t        this.running = false;\n\t        return;\n\t      }\n\t\n\t      var candidates = _nodes2.default.nameNodesLeft();\n\t      var idx = Math.floor(Math.random() * (candidates.length + 1));\n\t      this.highlightName(candidates[idx]);\n\t    }\n\t  }, {\n\t    key: 'run',\n\t    value: function run(speed, duration) {\n\t      var _this3 = this;\n\t\n\t      if (speed >= duration || this.stopSignal) {\n\t        var winner = _nodes2.default.nameOnNode();\n\t        this.transformName(winner);\n\t        this.speakName(winner);\n\t        this.running = false;\n\t        return true;\n\t      }\n\t\n\t      this.runner = setInterval(this.gotoName.bind(this), speed);\n\t      if (!this.config.stopOnDemand) {\n\t        setTimeout(function () {\n\t          clearInterval(_this3.runner);\n\t          _this3.run(speed * 4, duration);\n\t        }, duration);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'clickHandler',\n\t    value: function clickHandler(e) {\n\t      if (_nodes2.default.wrapper.classList.contains('flip')) return false;\n\t      if (e.type == 'keyup' && [13, 32].indexOf(e.keyCode) == -1) return false;\n\t      if (this.running) {\n\t        if (this.config.stopOnDemand) this.stopSignal = true;\n\t        return false;\n\t      }\n\t      if (this.config.nameRemovedIndexes.length >= this.nameCount) return false;\n\t\n\t      var onName = _nodes2.default.nameOnNode();\n\t      if (onName instanceof Node) {\n\t        this.highlightName(onName, false);\n\t        this.transformName(onName, false);\n\t        this.disableName(onName);\n\t        return false;\n\t      }\n\t\n\t      this.running = true;\n\t      this.stopSignal = false;\n\t      this.run(100, 3000);\n\t    }\n\t  }]);\n\t\n\t  return NamesPanel;\n\t}();\n\t\n\texports.default = NamesPanel;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar instance = null;\n\t\n\tvar defaults = {\n\t  names: '',\n\t  nameRemovedIndexes: [],\n\t  removeAfterHit: true,\n\t  stopOnDemand: false,\n\t  lightTheme: false,\n\t  readOutNames: false\n\t};\n\t\n\tvar Config = function () {\n\t  function Config() {\n\t    _classCallCheck(this, Config);\n\t\n\t    if (instance) return instance;\n\t    instance = this;\n\t\n\t    for (var prop in defaults) {\n\t      if (!defaults.hasOwnProperty(prop)) continue;\n\t      var value = defaults[prop];\n\t      var loaded = window.localStorage[prop];\n\t      if (loaded == null || loaded == '') {\n\t        this[prop] = value;\n\t      } else {\n\t        switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t          case 'object':\n\t            this[prop] = loaded.split(',');\n\t            break;\n\t          case 'boolean':\n\t            this[prop] = loaded == '1';\n\t            break;\n\t          default:\n\t            this[prop] = loaded;\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  _createClass(Config, [{\n\t    key: 'save',\n\t    value: function save() {\n\t      for (var prop in defaults) {\n\t        if (!defaults.hasOwnProperty(prop)) continue;\n\t        var value = defaults[prop];\n\t        switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n\t          case 'object':\n\t            window.localStorage[prop] = this[prop].join(',');\n\t            break;\n\t          case 'boolean':\n\t            window.localStorage[prop] = this[prop] + 0;\n\t            break;\n\t          default:\n\t            window.localStorage[prop] = this[prop];\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Config;\n\t}();\n\t\n\texports.default = Config;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar $ = function $(selector) {\n\t  return document.querySelector(selector);\n\t};\n\t\n\tvar $$ = function $$(selector) {\n\t  return Array.from(document.querySelectorAll(selector));\n\t};\n\t\n\tvar Nodes = {\n\t  wrapper: $('#wrapper'),\n\t  namesPanel: $('#namesPanel'),\n\t  nameNodes: function nameNodes() {\n\t    return $$('.name');\n\t  },\n\t  nameNodesLeft: function nameNodesLeft() {\n\t    return $$('.name:not(.on):not(.disabled)');\n\t  },\n\t  nameOnNode: function nameOnNode() {\n\t    return $('.name.on');\n\t  },\n\t  resetBtn: $('#reset-btn'),\n\t  clickArea: $('#click-area'),\n\t  optionsBtn: $('#options-btn'),\n\t  optionsPanel: $('#optionsPanel'),\n\t  optionsForm: $('#options-form'),\n\t  options_names: $('#names'),\n\t  options_removeAfterHit: $('#removeAfterHit'),\n\t  options_stopOnDemand: $('#stopOnDemand'),\n\t  options_lightTheme: $('#lightTheme'),\n\t  options_readOutNames: $('#readOutNames'),\n\t  options_optionCancel: $('#optionCancel')\n\t};\n\t\n\texports.default = Nodes;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _nodes = __webpack_require__(5);\n\t\n\tvar _nodes2 = _interopRequireDefault(_nodes);\n\t\n\tvar _namesPanel = __webpack_require__(3);\n\t\n\tvar _namesPanel2 = _interopRequireDefault(_namesPanel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar instance = null;\n\t\n\tvar OptionsPanel = function () {\n\t  function OptionsPanel() {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, OptionsPanel);\n\t\n\t    if (instance) return instance;\n\t    instance = this;\n\t\n\t    this.config = new _config2.default();\n\t    this.namesPanel = new _namesPanel2.default();\n\t\n\t    _nodes2.default.optionsBtn.addEventListener('click', function (e) {\n\t      _this.open();\n\t    });\n\t\n\t    _nodes2.default.optionsForm.addEventListener('submit', function (e) {\n\t      e.preventDefault();\n\t      _this.save();\n\t      _this.namesPanel.init(true);\n\t      _this.close();\n\t    });\n\t\n\t    _nodes2.default.options_optionCancel.addEventListener('click', function (e) {\n\t      _this.init();\n\t      _this.close();\n\t    });\n\t  }\n\t\n\t  _createClass(OptionsPanel, [{\n\t    key: 'init',\n\t    value: function init() {\n\t      _nodes2.default.options_names.value = this.config.names;\n\t      _nodes2.default.options_removeAfterHit.checked = this.config.removeAfterHit;\n\t      _nodes2.default.options_stopOnDemand.checked = this.config.stopOnDemand;\n\t      _nodes2.default.options_lightTheme.checked = this.config.lightTheme;\n\t      _nodes2.default.options_readOutNames.checked = this.config.readOutNames;\n\t    }\n\t  }, {\n\t    key: 'save',\n\t    value: function save() {\n\t      this.config.names = _nodes2.default.options_names.value;\n\t      this.config.removeAfterHit = _nodes2.default.options_removeAfterHit.checked;\n\t      this.config.stopOnDemand = _nodes2.default.options_stopOnDemand.checked;\n\t      this.config.lightTheme = _nodes2.default.options_lightTheme.checked;\n\t      this.config.readOutNames = _nodes2.default.options_readOutNames.checked;\n\t      this.config.save();\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      _nodes2.default.wrapper.classList.add('flip');\n\t    }\n\t  }, {\n\t    key: 'close',\n\t    value: function close() {\n\t      _nodes2.default.wrapper.classList.remove('flip');\n\t    }\n\t  }]);\n\t\n\t  return OptionsPanel;\n\t}();\n\t\n\texports.default = OptionsPanel;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ef69a54c7d3c047190d2","import '../sass/main.scss';\nimport NamesPanel from './names-panel.js';\nimport OptionsPanel from './options-panel.js';\n\nnew NamesPanel().init();\nnew OptionsPanel().init();\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Config from './config.js';\nimport Nodes from './nodes.js';\n\nlet instance = null;\n\nclass NamesPanel {\n  constructor() {\n    if (instance) return instance;\n    instance = this;\n\n    this.config = new Config();\n    this.nameCount = 0;\n    this.running = false;\n    this.stopSignal = false;\n    this.runner = null;\n\n    Nodes.resetBtn.addEventListener('click', e => {\n      if (this.running || !confirm(Nodes.resetBtn.dataset.confirm)) return;\n      this.init(true);\n    });\n\n    window.addEventListener('resize', e => {\n      for (let aName of Nodes.nameNodes()) this.setNameSize(aName);\n    });\n\n    Nodes.clickArea.addEventListener('click', this.clickHandler.bind(this));\n\n    document.body.addEventListener('keyup', this.clickHandler.bind(this));\n  }\n\n  init(clearState = false) {\n    this.running = false;\n    this.stopSignal = true;\n\n    for (let aName of Nodes.nameNodes()) aName.parentNode.removeChild(aName);\n\n    this.config.lightTheme ? Nodes.wrapper.classList.add('light-theme') : Nodes.wrapper.classList.remove('light-theme');\n\n    let nameList = this.config.names.replace(/[\\s\\,、，]+/g, ',').split(',');\n    nameList = nameList.filter(aName => { return aName != '' });\n    this.nameCount = nameList.length;\n\n    if (clearState) {\n      this.config.nameRemovedIndexes = [];\n      this.config.save();\n    }\n\n    nameList.forEach((aName, index) => {\n      let nameDiv = document.createElement('div');\n      nameDiv.className = 'name';\n      nameDiv.textContent = aName;\n      this.setNameSize(nameDiv);\n      if (this.config.nameRemovedIndexes.indexOf(`${index}`) != -1) {\n        nameDiv.classList.add('disabled');\n      }\n      Nodes.namesPanel.appendChild(nameDiv);\n    });\n\n    if (this.nameCount < 2) {\n      Nodes.optionsBtn.classList.add('bouncing');\n    } else {\n      Nodes.optionsBtn.classList.remove('bouncing');\n    }\n  }\n\n  setNameSize(aName) {\n    let nameLength = Math.max(3, aName.textContent.length);\n    let magicDivide = Math.ceil(Math.sqrt(this.nameCount));\n    let nameWidth = document.documentElement.clientWidth / magicDivide;\n    let nameHeight = document.documentElement.clientHeight / magicDivide;\n    let nameFontSize = Math.min(nameWidth * 0.8 / nameLength, nameHeight * 0.8);\n    aName.style.width = `${nameWidth}px`;\n    aName.style.height = `${nameHeight}px`;\n    aName.style.lineHeight = `${nameHeight}px`;\n    aName.style.fontSize = `${nameFontSize}px`;\n  }\n\n  highlightName(aName, on = true) {\n    if (!aName) return false;\n    let onName = Nodes.nameOnNode();\n    if (onName instanceof Node) onName.classList.remove('on');\n    on ? aName.classList.add('on') : aName.classList.remove('on');\n    return true;\n  }\n\n  transformName(aName, center = true) {\n    if (!aName) return false;\n    let transform = 'none';\n    if (center) {\n      let { width, height, left, top } = aName.getBoundingClientRect();\n      let { clientWidth, clientHeight } = document.documentElement;\n      let scale = Math.min(clientWidth / width, clientHeight / height) * 0.6;\n      let moveX = ((clientWidth - width) / 2 - left) / scale;\n      let moveY = ((clientHeight - height) / 2 - top) / scale;\n      transform = `scale(${scale}) translate(${moveX}px, ${moveY}px)`;\n    }\n    ['webkitTransform', 'transform'].forEach((prop) => {\n      if (prop in aName.style) {\n        aName.style[prop] = transform;\n      }\n    });\n    return true;\n  }\n\n  speakName(aName, lang = navigator.language) {\n    if (!(this.config.readOutNames && window.speechSynthesis)) return false;\n    let utterance = new SpeechSynthesisUtterance(aName.textContent);\n    utterance.lang = lang;\n    window.speechSynthesis.speak(utterance);\n  }\n\n  disableName(aName) {\n    if (!this.config.removeAfterHit) return false;\n    this.config.nameRemovedIndexes.push(Nodes.nameNodes().indexOf(aName));\n    this.config.save();\n    aName.classList.add('disabled');\n  }\n\n  gotoName() {\n    if (this.config.stopOnDemand && this.stopSignal) {\n      clearInterval(this.runner);\n      let winner = Nodes.nameOnNode();\n      this.transformName(winner);\n      this.speakName(winner);\n      this.running = false;\n      return;\n    }\n\n    let candidates = Nodes.nameNodesLeft();\n    let idx = Math.floor(Math.random() * (candidates.length + 1));\n    this.highlightName(candidates[idx]);\n  }\n\n  run(speed, duration) {\n    if (speed >= duration || this.stopSignal) {\n      let winner = Nodes.nameOnNode();\n      this.transformName(winner);\n      this.speakName(winner);\n      this.running = false;\n      return true;\n    }\n\n    this.runner = setInterval(this.gotoName.bind(this), speed);\n    if (!this.config.stopOnDemand) {\n      setTimeout(() => {\n        clearInterval(this.runner);\n        this.run(speed * 4, duration);\n      }, duration);\n    }\n  }\n\n  clickHandler(e) {\n    if (Nodes.wrapper.classList.contains('flip')) return false;\n    if (e.type == 'keyup' && [13, 32].indexOf(e.keyCode) == -1) return false;\n    if (this.running) {\n      if (this.config.stopOnDemand) this.stopSignal = true;\n      return false;\n    }\n    if (this.config.nameRemovedIndexes.length >= this.nameCount) return false;\n\n    let onName = Nodes.nameOnNode();\n    if (onName instanceof Node) {\n      this.highlightName(onName, false);\n      this.transformName(onName, false);\n      this.disableName(onName);\n      return false;\n    }\n\n    this.running = true;\n    this.stopSignal = false;\n    this.run(100, 3000);\n  }\n}\n\nexport default NamesPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/names-panel.js","let instance = null;\n\nconst defaults = {\n  names: '',\n  nameRemovedIndexes: [],\n  removeAfterHit: true,\n  stopOnDemand: false,\n  lightTheme: false,\n  readOutNames: false\n};\n\nclass Config {\n  constructor() {\n    if (instance) return instance;\n    instance = this;\n\n    for (let prop in defaults) {\n      if (!defaults.hasOwnProperty(prop)) continue;\n      let value = defaults[prop];\n      let loaded = window.localStorage[prop];\n      if (loaded == null || loaded == '') {\n        this[prop] = value;\n      } else {\n        switch (typeof value) {\n          case 'object':\n            this[prop] = loaded.split(',');\n            break;\n          case 'boolean':\n            this[prop] = loaded == '1';\n            break;\n          default:\n            this[prop] = loaded;\n        }\n      }\n    }\n  }\n\n  save() {\n    for (let prop in defaults) {\n      if (!defaults.hasOwnProperty(prop)) continue;\n      let value = defaults[prop];\n      switch (typeof value) {\n        case 'object':\n          window.localStorage[prop] = this[prop].join(',');\n          break;\n        case 'boolean':\n          window.localStorage[prop] = this[prop] + 0;\n          break;\n        default:\n          window.localStorage[prop] = this[prop]\n      }\n    }\n  }\n}\n\nexport default Config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","let $ = (selector) => {\n  return document.querySelector(selector);\n}\n\nlet $$ = (selector) => {\n  return Array.from(document.querySelectorAll(selector));\n};\n\nlet Nodes = {\n  wrapper: $('#wrapper'),\n  namesPanel: $('#namesPanel'),\n  nameNodes: () => $$('.name'),\n  nameNodesLeft: () => $$('.name:not(.on):not(.disabled)'),\n  nameOnNode: () => $('.name.on'),\n  resetBtn: $('#reset-btn'),\n  clickArea: $('#click-area'),\n  optionsBtn: $('#options-btn'),\n  optionsPanel: $('#optionsPanel'),\n  optionsForm: $('#options-form'),\n  options_names: $('#names'),\n  options_removeAfterHit: $('#removeAfterHit'),\n  options_stopOnDemand: $('#stopOnDemand'),\n  options_lightTheme: $('#lightTheme'),\n  options_readOutNames: $('#readOutNames'),\n  options_optionCancel: $('#optionCancel')\n};\n\nexport default Nodes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/nodes.js","import Config from './config.js';\nimport Nodes from './nodes.js';\nimport NamesPanel from './names-panel.js';\n\nlet instance = null;\n\nclass OptionsPanel {\n  constructor() {\n    if (instance) return instance;\n    instance = this;\n\n    this.config = new Config();\n    this.namesPanel = new NamesPanel();\n\n    Nodes.optionsBtn.addEventListener('click', e => {\n      this.open();\n    });\n\n    Nodes.optionsForm.addEventListener('submit', e => {\n      e.preventDefault();\n      this.save();\n      this.namesPanel.init(true);\n      this.close();\n    });\n\n    Nodes.options_optionCancel.addEventListener('click', e => {\n      this.init();\n      this.close();\n    });\n  }\n\n  init() {\n    Nodes.options_names.value = this.config.names;\n    Nodes.options_removeAfterHit.checked = this.config.removeAfterHit;\n    Nodes.options_stopOnDemand.checked = this.config.stopOnDemand;\n    Nodes.options_lightTheme.checked = this.config.lightTheme;\n    Nodes.options_readOutNames.checked = this.config.readOutNames;\n  }\n\n  save() {\n     this.config.names = Nodes.options_names.value;\n     this.config.removeAfterHit = Nodes.options_removeAfterHit.checked;\n     this.config.stopOnDemand = Nodes.options_stopOnDemand.checked;\n     this.config.lightTheme = Nodes.options_lightTheme.checked;\n     this.config.readOutNames = Nodes.options_readOutNames.checked;\n     this.config.save();\n  }\n\n  open() {\n    Nodes.wrapper.classList.add('flip');\n  }\n\n  close() {\n    Nodes.wrapper.classList.remove('flip');\n  }\n}\n\nexport default OptionsPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/options-panel.js"],"sourceRoot":""}